<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <meta http-equiv="X-UA-Compatible" content="ie=edge" /> -->
    <title>電子カルテ</title>
    <!-- docs/index.js　からJSスクリプトを導入 -->
    <script src="./index.js"></script>
    <link rel="stylesheet" href="./index.css">
    <script type="text/javascript" src="/eel.js"></script>
</head>

<body>
    <div class="field-parent">
        <div class="center-field">
            <div class="header">
                <div class="column1">
                    <p>外来</p>
                    <p id="category">内科</p>
                </div>
                <div class="column2">
                    <p id="patient_id">患者ID: 123456</p>
                </div>
                <div class="column3"></div>
                <div class="column4">
                    <p id="name_kana">やまだ　たろう</p>
                    <h3 id="name_kanji">山田　太郎</h3>
                </div>
                <div class="column5">
                    <p id="sex">性別: 男</p>
                    <p id="age">69歳6ヶ月</p>
                </div>
                <div class="column6">
                    <p id="blood_type">O型 Rh(+)</p>
                </div>
                <div class="column7">
                    <p id="height">155.0cm</p>
                </div>
                <div class="column8">
                    <p id="weight">63.000kg</p>
                </div>
                <div class="column9">
                    <button>Prof</button>
                    <button>病名</button>
                </div>
                <div class="head_close_all">
                    <button onclick="openAnswerModal()" style="color: black; background-color: #fff;">カルテを閉じる</button>
                </div>
            </div>
            <div class="main-flex">
                <nav>
                    <p>ナビゲータ</p>
                    <div class="navigator_btns">
                        <div class="navigator_btns_row1">
                            <button>ナビゲータ</button>
                            <button>ヒストリカル</button>
                        </div>
                        <div class="navigator_btns_row2">
                            <button>ブラウザ</button>
                            <button>マルチビュー</button>
                        </div>
                    </div>
                    <div class="navigator_other_btns">
                        <button>A</button>
                        <button>B</button>
                        <button>C</button>
                    </div>
                    <!-- ナビゲーションメニューのリンクなどをここに追加 -->
                    <div class="record_links" id="navigation_bar">
                        <!-- <a>血液検査結果</a> -->
                        <!-- <a onclick="openBloodCultureModal()">血液培養結果</a> -->
                        <!-- <div id="tree_parent">
                            <a>カルテ1</a>
                        </div> -->

                    </div>
                </nav>
                <div class="main-column" id="main-left">
                    <div class="main-left-header_row1">
                        <p>全科カルテ</p>
                        <p id="start_time_str_short">2024/05/13(月)</p>
                        <button>閉</button>
                    </div>
                    <div class="main-left-header_row2">
                        <button>全て展開</button>
                        <button>全てたたむ</button>
                        <div class="main-left-header-btns">
                            <button>A</button>
                            <button>B</button>
                            <button>C</button>
                        </div>
                    </div>
                </div>
                <div class="main-column">
                    <div class="main-right-header_row1">
                        <p>エディタ(新規)</p>
                        <p id="patient_name(id)">山田　太郎(123456)</p>
                        <button>閉</button>
                    </div>
                    <div class="main-right-header_row2">
                        <button>全て展開</button>
                        <button>全てたたむ</button>
                        <div class="main-right-header-btns">
                            <button>A</button>
                            <button>B</button>
                            <button>C</button>
                        </div>
                    </div>
                    <div class="main-right-progressnote-record">
                        <div class="main-right-progressnote-record-header">
                            <div style="display: flex;">
                                <button>開</button>
                                <p>【プログレスノート】</p>
                            </div>
                            <p><span style="color: purple;">内科</span> <span>外来</span></p>
                        </div>
                        <div class="main-right-progressnote-record-header-row2">
                            <p id="start_time_str1">2024/05/13(月) 09:00</p>
                        </div>
                        <table class="SOAP-table">
                            <tr>
                                <th>依頼</th>
                                <th id="SOAP-table_Th2">2024/05/13(月) 10:00 医師)Post_CC_OSCE</th>
                                <th>総合　本</th>
                            </tr>
                            <tr>
                                <td>#</td>
                                <td colspan="2"><textarea name="progress_sharp" class="dynamic-textarea"
                                        id="progress_sharp" cols="70" rows="5" placeholder="ここに入力"></textarea></td>
                            </tr>
                            <tr>
                                <td>(S)</td>
                                <td colspan="2"><textarea name="progress_subject" class="dynamic-textarea"
                                        id="progress_subject" cols="70" rows="5" placeholder="ここに入力"></textarea></td>
                            </tr>
                            <tr>
                                <td>(O)</td>
                                <td colspan="2">
                                    <div id="img-pastable">
                                        <textarea name="progress_object0" class="dynamic-textarea" id="progress_object0"
                                            cols="70" rows="5" placeholder="ここに入力"></textarea>
                                        <!-- <div class="pasted-img-box">
                                            <img src="./img/1.png" alt="画像1">
                                            <button onclick="deleteImage()">削除</button>
                                        </div> -->
                                    </div>

                                </td>
                            </tr>
                            <tr>
                                <td>(A)</td>
                                <td colspan="2"><textarea name="progress_assessment" class="dynamic-textarea"
                                        id="progress_assessment" cols="70" rows="5" placeholder="ここに入力"></textarea></td>
                            </tr>
                            <tr>
                                <td>(P)</td>
                                <td colspan="2"><textarea name="progress_plan" class="dynamic-textarea"
                                        id="progress_plan" cols="70" rows="5" placeholder="ここに入力"></textarea></td>
                            </tr>
                        </table>
                    </div>

                    <div class="command-panel">
                        <!-- <button id="skip_btn">この問題をスキップ</button> -->
                        <!-- <p>生徒ID:000000</p> -->
                        <!-- <button id="open_answer_modal" onclick="openAnswerModal()">カルテを提出する</button> -->
                    </div>
                </div>

            </div>


        </div>
        <div class="nav-right">
            <!-- ここに右ナビゲーション追加 -->
            <div class="nav-right-btn-box">
                <button>診断</button>
                <button>処置</button>
                <button>処方</button>
            </div>
            <div class="doctor-name">
                <p></p>
            </div>
            <div class="doctor-name">
                <p></p>
            </div>
            <div class="doctor-name">
                <p></p>
            </div>
            <div class="clerk-btn-box">
                <button>受付一覧</button>
                <button>開</button>
            </div>
            <div class="clerk-name">
                <p>次の患者１</p>
                <p>次の患者２</p>
                <p>次の患者３</p>
            </div>
            <div class="clerk-sub-btn-box">
                <button>A</button>
                <button>B</button>
                <button>C</button>
            </div>
            <div class="clerk-type-btn-box-row-1">
                <button>外来</button>
                <button>カルテ記載</button>
            </div>
            <div class="clerk-type-btn-box-row-2">
                <button>入院</button>
                <button>便利機能</button>
            </div>
            <div class="nav-right-others">
                <button>セット展開</button>
                <button>文書切り替え</button>
                <button>外来処方</button>
                <button>前回処方</button>
                <button>再診予約</button>
                <button>検体検査</button>
                <button style="color: black; background-color: white;" onclick="openVideoModal()">
                    診療動画</button>
                <button style="color: black; background-color: white;" onclick="openVitalSignModal()">
                    バイタルサイン</button>
                <button style="color: black; background-color: white;" onclick="openPhysicalExamModal()">
                    身体所見</button>
                <!-- <button>身体所見</button> -->
                <button>一般撮影</button>
                <!-- <button style="color: black; background-color: #fff;" onclick="openImageModal()">
                    一般撮影
                </button> -->
                <button style="color: black; background-color: #fff;" onclick="startCTApp()">CT検査</button>
                <button id="pasteCTImageBtn" style="color: black; background-color: #fff; display: none;" onclick="displayImage()">
                    ←CT画像を貼付</button>
                <!-- <button>←CT画像を貼付</button> -->
                <!-- ボタンを押すことで専用アプリを起動するようにする。 -->
                <!-- PIL ImageGrab.grabClipboardで貼り付け -->
                <button>外来注射</button>
                <button>外来処置</button>
                <button>入院申込オーダ</button>
                <button>予約カレンダ</button>
                <button>指導料</button>
                <button>リハビリ処方</button>
                <button>画像連携</button>
            </div>

        </div>
    </div>
    <!-- video(video/povideo.mp4)を再生するモーダルウィンドウ -->
    <section id="videoArea" class="modalArea" style="display: none;">
        <div id="videoBg" class="modalBg" onclick="closeVideoModal()"></div>
        <div class="videoWrapper">
            <div class="modalContents">
                <div class="image-window-bar">
                    <h1>診療動画</h1>
                    <button onclick="closeVideoModal()" style="background-color: white; color: black;">
                        閉じる</button>
                </div>
                <video id="videoPlace" src="./video/povideo.mp4" controls width="1200px" >お使いのブラウザはvideoタグをサポートしていません。</video>
            </div>
        </div>
    </section>
    <!-- 解答採点中のmodal windowを用意する -->
    <section id="modalArea" class="modalArea" style="display: none;">
        <div id="modalBg" class="modalBg"></div>
        <div class="modalWrapper">
            <div class="modalContents">
                <h1>この内容で提出しますか？</h1>
                <div class="main-modal">
                    <table class="SOAP-table" style="border-top: 1px gray; border-bottom: 1px gray;">
                        <tr>
                            <td>#</td>
                            <td id="check_sharp" style="font-size: x-small;"></td>
                        </tr>
                        <tr>
                            <td>(S)</td>
                            <td id="check_subject" style="font-size: x-small;"></td>
                        </tr>
                        <tr>
                            <td>(O)</td>
                            <td id="check_object" style="font-size: x-small;"></td>
                        </tr>
                        <tr>
                            <td>(A)</td>
                            <td id="check_assessment" style="font-size: x-small;"></td>
                        </tr>
                        <tr>
                            <td>(P)</td>
                            <td id="check_plan" style="font-size: x-small;"></td>
                        </tr>
                    </table>
                </div>
                <div class="modalFooter">
                    <button onclick="closeAnswerModal()" style="background-color: white; color: black;">
                        解答をやり直す</button>
                    <button onclick="saveClinicalRecord()" style="background-color: white; color: black;">
                        提出する</button>
                </div>

            </div>
            <div id="closeModal" class="closeModal">
                <button onclick="closeAnswerModal()" style="background-color: white; color: black;">
                    閉じる</button>

            </div>
        </div>
    </section>

    <!-- 画像を見るための別ウィンドウ -->
    <section id="imageArea" class="imageArea" style="display: none;">
        <div id="modalBg" class="modalBg" onclick="closeImageModal()"></div>
        <div class="imageWrapper">
            <div class="imageContents">
                <div class="image-window-bar">
                    <h1>内視鏡所見</h1>
                    <button onclick="closeImageModal()" style="background-color: white; color: black;">
                        閉じる</button>
                </div>
                <!-- ここにスクロールパラパラ漫画 src:https://lifeinfo-navi.com/p=5303  -->
                <img id="imagePlace" src="./img/1.png" alt="内視鏡所見" />
                <!-- <img id="imagePlace" src="https://lifeinfo-navi.com/wp-content/uploads/2022/02/1.png"/> -->
                <p></p>
                <!-- <img src="./img/8.png" alt="内視鏡所見"> -->
                <div class="image-window-footer">
                    <button id="backImg" onclick="backImage()">前</button>
                    <p id="imgNum">1/8</p>
                    <button id="copyImg" onclick="copyImage()">貼り付け</button>
                    <button id="nextImg" onclick="nextImage()">次</button>
                </div>
            </div>
        </div>
    </section>

    <!-- バイタルサインを見るための別ウィンドウ -->
     <section id="vitalSignArea" class="imageArea" style="display: none;">
        <div id="modalBg" class="modalBg" onclick="closeVitalSignModal()"></div>
        <div class="imageWrapper">
            <div class="imageContents">
                <div class="image-window-bar">
                    <h1>バイタルサイン</h1>
                    <button onclick="closeVitalSignModal()" style="background-color: white; color: black;">
                        閉じる</button>
                </div>
                <div>
体温:36.6℃<br>心拍数:78/min.<br>血圧:170/84mmHg<br>呼吸数：14回/min.<br>SpO2 100%(room air)
                </div>
                <div class="blood-culture-window-footer">
                </div>
            </div>
        </div>
    </section>
    <!-- 身体所見 を見るための別ウィンドウ -->
    <section id="physicalExamArea" class="imageArea" style="display: none;">
        <div id="modalBg" class="modalBg" onclick="closePhysicalExamModal()"></div>
        <div class="imageWrapper">
            <div class="imageContents">
                <div class="image-window-bar">
                    <h1>身体所見</h1>
                    <button onclick="closePhysicalExamModal()" style="background-color: white; color: black;">
                        閉じる</button>
                </div>
                <div>
                    <!-- 意識は清明。身長170cm、体重72kg。体温36.6℃。脈拍78/分、整。血圧170/84mmHg。呼吸数14/分。SpO2 100%
背部やや左側に強い自発痛と叩打痛あり。
腹部には圧痛や反跳痛は認めない。
 -->
                    意識は清明。<br>身長170cm、体重72kg。<br>体温36.6℃。<br>脈拍78/分、整。<br>血圧170/84mmHg。<br>呼吸数14/分。<br>SpO2 100%<br>
                </div>
                <div class="blood-culture-window-footer">
                </div>
            </div>
        </div>
    </section>
    <!-- 血液培養結果詳細(テーブル形式)を見るための別ウィンドウ -->
    <section id="bloodCultureArea" class="imageArea" style="display: none;">
        <div id="modalBg" class="modalBg" onclick="closeBloodCultureModal()"></div>
        <div class="imageWrapper">
            <div class="imageContents">
                <div class="image-window-bar">
                    <h1>血液培養結果</h1>
                    <button onclick="closeBloodCultureModal()" style="background-color: white; color: black;">
                        閉じる</button>
                </div>
                <div id="bloodCultureResult">
                    WBC: 9,900/μl(3300~8600)
                            RBC: 542万/μl(435~555)
                            Hgb: 15.7/dl(13.6~16.8)
                            Htc: 47.4%(32.1~42.7)
                            Plt: 29.0万(15.8~34.8)
                            CRP: 0.1mg/dl(~0.3)
                            TP: 7.5g/dl(6.6~8.1)
                            Alb: 4.5g/dl(4.1~5.1)
                </div>
                <!-- <table class="blood-culture-table">
                    <tr>
                        <th>検体結果</th>
                    </tr>
                    <tr>
                        <td>WBC: 9,900/μl(3300~8600)
                            RBC: 542万/μl(435~555)
                            Hgb: 15.7/dl(13.6~16.8)
                            Htc: 47.4%(32.1~42.7)
                            Plt: 29.0万(15.8~34.8)
                            CRP: 0.1mg/dl(~0.3)
                            TP: 7.5g/dl(6.6~8.1)
                            Alb: 4.5g/dl(4.1~5.1)
                            AST: 36U/L(13~40)
                            ALT: 72U/L(10~42)
                            CPK: 109IU/L(59~248)
                            AMY: 44IU/L(37~125)
                            GLU: 108mg/dl(69~109)
                            Cre:1.15mg/dL(0.65~1.07)</td>
                    </tr>
                    </table> -->
                <div class="blood-culture-window-footer">
                </div>
            </div>
        </div>
        </section>
</body>

</html>